{"version":3,"sources":["webpack:///./src/app/shapes.js"],"names":["colors","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","throttle","fn","threshhold","scope","last","deferTimer","now","Date","setWindowDimensions","el","setAttribute","window","innerWidth","innerHeight","tagName","getRandomInt","min","max","Math","floor","random","randomIndex","length","item","Scene","scene","name","ready","interactive","sceneSize","bounds","undefined","DOM","children","svg","document","createElementNS","class","parent","parentNode","camera","perspective","maxZ","fov","width","height","center","x","y","location","config","updateFov","updateLoc","newX","newY","animations","initDelay","tl","showLetters","targets","staggerFromTo","opacity","ease","Elastic","easeOut","hideLetters","letterEls","Array","from","reverse","staggerTo","easeIn","showShapes","i","target","to","left","right","top","bottom","scale","Expo","animationCompleted","moveShapes","mouseMove","shapes","forEach","shape","index","projectedXY","calc3DLocation","getsetTransform","TweenLite","delay","smoothChildTiming","explodeShapes","console","log","init","initEvents","createScene","Name","playScene","handleResize","setBoundaries","addEventListener","handleMouseMove","e","clientX","clientY","handleMouseEnter","toggleInteractive","handleMouseLeave","handleClick","getBoundingClientRect","classList","add","insertBefore","shapeEls","toggleScene","focus","blur","letters","classPrefix","createLetters","childNodes","Letter","letter","totalShapes","push","map","s","sort","a","b","z","appendChild","createShapes","Shape","letterProps","props","relationalValues","translateX","translateY","transforms","types","cx","cy","r","stroke","strokeWidth","fill","points","getPoints","callback","updateShape","observer","MutationObserver","observe","attributes","prop","Bx","Bz","Ax","Az","By","Ay","hasAttribute","matrix","getAttribute","matrixCopy","replace","matrixValue","split","Number","slice","newProjectedXY","transform","exports","ShapeScene","shapeScene"],"mappings":"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","file":"0.a29a05a8bc4363070ca8.hot-update.js","sourcesContent":["\"use strict\";\r\n\r\nimport { TimelineLite } from \"gsap\";\r\nimport charming from 'charming';\r\n\r\n/*\r\n\r\nColor Palette\r\n  https://coolors.co/7edad4-ff9393-ffec94-f9fff9-63676c\r\n  https://coolors.co/7edad4-ffa69e-ffec94-707c89-f9fff9\r\n\r\n  https://coolors.co/85e5e0-ffa69e-ffeb93-7b8a96-ffe5e5\r\n*/\r\nconst colors = [\r\n  '#ACE7E3', '#FFC6C1', '#FFF2BA'\r\n  // '#F9FFF9' '#63676c' '#FFA69E'\r\n];\r\n\r\n\r\n\r\n/*\r\n\r\n  Utility functions\r\n\r\n*/\r\n// https://davidwalsh.name/javascript-debounce-function\r\n// Returns a function, that, as long as it continues to be invoked, will not\r\n// be triggered. The function will be called after it stops being called for\r\n// N milliseconds. If `immediate` is passed, trigger the function on the\r\n// leading edge, instead of the trailing.\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate)\r\n        func.apply(context, args);\r\n      };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow)\r\n      func.apply(context, args);\r\n    };\r\n};\r\n\r\n// https://remysharp.com/2010/07/21/throttling-function-calls\r\nfunction throttle(fn, threshhold, scope) {\r\n  threshhold || (threshhold = 250);\r\n  var last,\r\n    deferTimer;\r\n  return function() {\r\n    var context = scope || this;\r\n\r\n    var now = + new Date,\r\n      args = arguments;\r\n    if (last && now < last + threshhold) {\r\n      // hold on to it\r\n      clearTimeout(deferTimer);\r\n      deferTimer = setTimeout(function() {\r\n        last = now;\r\n        fn.apply(context, args);\r\n      }, threshhold);\r\n    } else {\r\n      last = now;\r\n      fn.apply(context, args);\r\n    }\r\n  };\r\n}\r\n\r\n// Assigns the passed element a new width and height attribute\r\n// equal to that of the window. After returns the element\r\nfunction setWindowDimensions(el) {\r\n\r\n  // if (obj instanceof Element || obj.ownerDocument == document) {\r\n    el.setAttribute('width', window.innerWidth);\r\n    el.setAttribute('height', window.innerHeight);\r\n    if (el.tagName === 'svg')\r\n      el.setAttribute('viewbox', `0 0 ${window.innerWidth} ${window.innerHeight}`);\r\n    // }\r\n  return el;\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nfunction randomIndex(length) {\r\n  let item = Math.floor(Math.random() * length);\r\n  return item;\r\n}\r\n\r\n/*\r\n\r\n  Classes:\r\n  Scene, Name, Letter, Shape\r\n\r\n*/\r\n\r\nclass Scene { // #scene\r\n  constructor(scene, name) {\r\n    // scene.ready is true after the initial animation has fully completed\r\n    this.ready = false;\r\n    // scene.interactive dictates whether mousemove events should be tracked for shape translations\r\n    this.interactive = false;\r\n\r\n    this.sceneSize = 2;\r\n    this.bounds = undefined;\r\n\r\n    this.name = undefined;\r\n    // DOM element references\r\n    this.DOM = {\r\n      el: scene,\r\n      children:{\r\n        name: {\r\n          el: name\r\n        },\r\n        svg: {\r\n          el: document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\"),\r\n          class: \"shapes\"\r\n        }\r\n      },\r\n      parent: scene.parentNode\r\n    };\r\n    // virtual camera of the scene, used for calculating 3d perspectives\r\n    this.camera = {\r\n      perspective: 500,\r\n      maxZ: 400,\r\n      fov: {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n      },\r\n      center: {\r\n        x: undefined,\r\n        y: undefined\r\n      },\r\n      location: {\r\n        x: undefined,\r\n        y: undefined\r\n      },\r\n      config: function() {\r\n        this.updateFov();\r\n        this.updateLoc(this.center.x, this.center.y);\r\n      },\r\n      updateLoc: function(newX, newY) {\r\n        this.location.x = newX;\r\n        this.location.y = newY;\r\n      },\r\n      updateFov: function() {\r\n        this.fov.width = window.innerWidth;\r\n        this.fov.height = window.innerHeight;\r\n        this.center.x = this.fov.width / 2;\r\n        this.center.y = this.fov.height / 2;\r\n      }\r\n    };\r\n\r\n\r\n    // GSAP TimelineLite\r\n    this.animations = {\r\n      scene: this,\r\n      initDelay: 1000,\r\n      tl: new TimelineLite(), //{ paused: true }\r\n      showLetters: function(targets){\r\n        // this.tl.eventCallback(\"onUpdate\", this.update);\r\n        this.tl.staggerFromTo(targets, 1, {\r\n          opacity: 0,\r\n          y: \"100%\"\r\n        },\r\n        {\r\n          opacity: 1,\r\n          y: \"0%\",\r\n          ease: Elastic.easeOut.config(1, 0.4)\r\n        }, .1);\r\n      },\r\n      hideLetters: function(){\r\n        let targets = this.scene.name.letterEls;\r\n        targets = Array.from(targets).reverse();\r\n        this.tl.staggerTo(targets, .6, {\r\n          opacity: 0,\r\n          y: \"100%\",\r\n          ease: Elastic.easeIn.config(1, 0.75)\r\n        }, .1);\r\n      },\r\n      showShapes: function(targets){\r\n        for(let i = 0; i < targets.length; i++){\r\n          let target = targets[i];\r\n          this.tl.to(target, .9, {\r\n            opacity: .75,\r\n            x: getRandomInt(this.scene.bounds.left, this.scene.bounds.right),\r\n            y: getRandomInt(this.scene.bounds.top, this.scene.bounds.bottom),\r\n            scale: 1,\r\n            ease: Expo.easeOut\r\n          }, \"-=.89\");\r\n          if(i == (targets.length - 1)) {\r\n            let scene = this.scene;\r\n            setTimeout(function(){\r\n              scene.animationCompleted();\r\n            }, 1000);\r\n          }\r\n        }\r\n      },\r\n      moveShapes: function(mouseMove){\r\n\r\n        let scene = this.scene;\r\n        let shapes = scene.name.shapes;\r\n        shapes = Array.from(shapes).reverse();\r\n\r\n        shapes.forEach(function(shape, index) {\r\n          let projectedXY, newX, newY;\r\n          if(mouseMove){\r\n            projectedXY = [\r\n              (shape.calc3DLocation(scene.camera)[0] - shape.projectedXY[0]),\r\n              (shape.calc3DLocation(scene.camera)[1] - shape.projectedXY[1])\r\n            ];\r\n            newX = shape.getsetTransform(projectedXY)[0];\r\n            newY = shape.getsetTransform(projectedXY)[1];\r\n          }\r\n          else{\r\n            newX = shape.getsetTransform([0,0])[0];\r\n            newY = shape.getsetTransform([0,0])[1];\r\n          }\r\n\r\n          TweenLite.to(shape.el, 10, {\r\n            opacity: 1,\r\n            x: newX,\r\n            y: newY,\r\n            ease: Expo.easeOut\r\n          }).delay(index*.02).smoothChildTiming = true;\r\n\r\n        });\r\n      },\r\n      explodeShapes: function(targets){\r\n        for(let i = 0; i < targets.length; i++){\r\n          let target = targets[i];\r\n          console.log(target);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.init();\r\n    this.initEvents();\r\n  }\r\n\r\n  init() {\r\n    this.createScene();\r\n    this.name = new Name(this);\r\n    console.log(this.name);\r\n    this.playScene();\r\n    console.log(\"Scene created\");\r\n  }\r\n\r\n  initEvents() {\r\n    let scene = this;\r\n    // Resize event:\r\n    // Debounces event every 100ms, resizes scene element to window size\r\n    const handleResize = debounce(function() {\r\n      setWindowDimensions(scene.DOM.children.svg.el);\r\n      scene.setBoundaries();\r\n      scene.camera.config();\r\n      scene.animations.moveShapes(false);\r\n\r\n    }, 50);\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Mousemove event:\r\n    // Tracks mouse to calculate projection perspective of svg shapes\r\n    const handleMouseMove = throttle(function(e) {\r\n      if (scene.interactive) {\r\n        scene.camera.updateLoc(e.clientX, e.clientY);\r\n        scene.animations.moveShapes(true);\r\n      }\r\n    }, 150);\r\n    window.addEventListener('mousemove', handleMouseMove, false);\r\n\r\n    // Mouseenter event:\r\n    // Toggle scene interactivity\r\n    const handleMouseEnter = function(e) {\r\n      if (scene.ready) {\r\n        if (!scene.interactive) scene.toggleInteractive();\r\n      }\r\n    }\r\n    this.DOM.parent.addEventListener('mouseenter', handleMouseEnter);\r\n\r\n    // Mouseleave event:\r\n    // Toggle scene interactivity and reset shapes to original positions\r\n    const handleMouseLeave = function(e) {\r\n      if (scene.ready) {\r\n        if (scene.interactive) {\r\n          scene.toggleInteractive();\r\n          scene.camera.updateLoc(scene.camera.center.x, scene.camera.center.y);\r\n          scene.animations.moveShapes(false);\r\n        }\r\n      }\r\n    }\r\n    this.DOM.parent.addEventListener('mouseleave', handleMouseLeave);\r\n\r\n    // Click event:\r\n    const handleClick = function(e){\r\n      if (scene.ready) {\r\n        if (scene.interactive) {\r\n          console.log(\"clicking!\");\r\n          scene.animations.hideLetters();\r\n        }\r\n      }\r\n    }\r\n    this.DOM.parent.addEventListener('click', handleClick);\r\n\r\n  }\r\n  setBoundaries(){\r\n    let el = this.DOM.el;\r\n    el = el.getBoundingClientRect();\r\n    this.bounds = {\r\n      top: el.bottom/-2,\r\n      right: el.right/2,\r\n      bottom: el.bottom/2,\r\n      left: el.right/-2\r\n    };\r\n  }\r\n  createScene() {\r\n    // Add class to svg\r\n    // Insert svg scene before h1#name to ensure the name is layered on top\r\n    let scene = this.DOM;\r\n    scene.children.svg.el.classList.add(scene.children.svg.class);\r\n    scene.el.insertBefore(scene.children.svg.el, scene.children.name.el);\r\n    setWindowDimensions(scene.children.svg.el);\r\n    this.setBoundaries();\r\n    this.camera.config();\r\n  }\r\n  playScene() {\r\n    let scene = this;\r\n    let name = this.name;\r\n    let animations = this.animations;\r\n\r\n    setTimeout(function() {\r\n\r\n      animations.showLetters(name.letterEls);\r\n      animations.showShapes(name.shapeEls);\r\n\r\n    }, animations.initDelay);\r\n  }\r\n  animationCompleted(){\r\n    console.log(\"scene animation completed\");\r\n    console.log(this);\r\n    this.name.shapes.forEach(function(shape, i){\r\n      console.log(\"created: \"+i)\r\n      shape.getsetTransform();\r\n    });\r\n    this.toggleScene();\r\n  }\r\n  toggleInteractive() {\r\n    this.interactive = !this.interactive;\r\n    if (this.interactive) {\r\n      window.focus();\r\n    } else {\r\n      window.blur();\r\n    }\r\n\r\n  }\r\n  toggleScene() {\r\n    this.toggleInteractive();\r\n    this.ready = !this.ready;\r\n    console.log(\"scene is ready\");\r\n  }\r\n}\r\n\r\nclass Name { // #name\r\n  constructor(scene) {\r\n    this.scene = scene;\r\n    this.el = scene.DOM.children.name.el;\r\n    this.letterEls = undefined;\r\n    this.shapeEls = undefined;\r\n    this.letters = [];\r\n    this.shapes = [];\r\n\r\n    this.init(this.scene);\r\n  }\r\n  init(scene) {\r\n    // Wraps each letter in a span with a new class 'letter#'\r\n    charming(this.el, {classPrefix: 'letter'});\r\n    // Create letters and assign the elements to animations\r\n    this.createLetters(scene);\r\n  }\r\n  createLetters(scene){\r\n    let letters = scene.DOM.children.name.el.childNodes;\r\n\r\n    this.letterEls = letters;\r\n    // animations.letters.show.targets = animations.letters.hide.targets = letters;\r\n\r\n    letters = Array.from(letters);\r\n\r\n    let shapes = [];\r\n    letters.forEach(function(el, index){\r\n      letters[index] = new Letter(scene, el);\r\n\r\n      let letter = letters[index];\r\n      for(let i = 0; i < letter.totalShapes; i++){\r\n        shapes.push(letter.shapes[i]);\r\n      }\r\n    });\r\n\r\n    this.shapeEls = shapes.map(s => s.el);\r\n    // animations.shapes.targets = shapes.map(s => s.el);\r\n\r\n\r\n    this.letters = letters;\r\n    this.shapes = shapes;\r\n\r\n    // Sort shapes array order based on z axis location and add them to the dom\r\n    this.shapes.sort(function(a, b) {\r\n      return a.z - b.z;\r\n    });\r\n    this.shapes.forEach(function(shape) {\r\n      shape.parent.appendChild(shape.el);\r\n    });\r\n  }\r\n}\r\n\r\nclass Letter {\r\n  constructor(scene, el) {\r\n    this.el = el;\r\n    this.scene = scene;\r\n    this.shapes = [];\r\n    this.totalShapes = 5;\r\n    this.init(scene);\r\n  }\r\n  init() {\r\n    this.createShapes();\r\n    console.log(\"Letter created\");\r\n  }\r\n  createShapes() {\r\n    for (let i = 0; i < this.totalShapes; i++) {\r\n      this.shapes.push(new Shape(this.scene, this.el, this.el.getBoundingClientRect()));\r\n    }\r\n  }\r\n}\r\n\r\nclass Shape {\r\n  constructor(scene, letter, letterProps) {\r\n    this.scene = scene;\r\n    this.el = undefined;\r\n    this.parent = scene.DOM.children.svg.el;\r\n    this.letter = {\r\n      el: letter,\r\n      props: letterProps\r\n    };\r\n    this.scale = getRandomInt(letterProps.width * .1, letterProps.width * .8); // scale will be 10% and 100% of the letter's width\r\n    this.x = (letterProps.left + letterProps.width / 2);\r\n    this.y = (letterProps.top - letterProps.height / 2);\r\n    this.z = this.scale / letterProps.width;\r\n    this.projectedXY = this.calc3DLocation(this.scene.camera);\r\n    this.relationalValues = {\r\n      // Properties relative to their associated letter, values are percentage based\r\n      x: (this.x - letterProps.left) / letterProps.width,\r\n      y: (this.y - (letterProps.top - letterProps.height)) / letterProps.height,\r\n      scale: this.scale / letterProps.width,\r\n      // Properties relative to the window window dimensions\r\n      translateX: undefined,\r\n      translateY: undefined\r\n    };\r\n    this.transforms = undefined;\r\n    this.colors = colors;\r\n    this.types = [\r\n      {\r\n        el: 'circle',\r\n        cx: this.projectedXY[0],\r\n        cy: this.projectedXY[1],\r\n        r: this.scale / 2,\r\n        stroke: undefined,\r\n        strokeWidth: undefined,\r\n        fill: this.colors[randomIndex(this.colors.length)]\r\n      },\r\n      {\r\n        el: 'polygon',\r\n        points: this.getPoints(this.projectedXY[0], this.projectedXY[1], this.scale),\r\n        stroke: undefined,\r\n        strokeWidth: undefined,\r\n        fill: this.colors[randomIndex(this.colors.length)]\r\n      }\r\n      // {\r\n      //   el: 'rect',\r\n      //   x: this.x,\r\n      //   y: this.y,\r\n      //   width: this.scale,\r\n      //   height: this.scale,\r\n      //   stroke: undefined,\r\n      //   strokeWidth: undefined,\r\n      //   fill: this.colors[randomIndex(this.colors.length)]\r\n      // },\r\n    ];\r\n\r\n    this.init();\r\n    this.initEvents();\r\n  }\r\n  initEvents() {\r\n    // Create an observer to monitor the parent svg container's attributes\r\n    // In this case, the svg container updates its width and height attributes on window resize\r\n    // This tells the Shape to updateShape() when that happens\r\n    let callback = () => this.updateShape();\r\n    var observer = new MutationObserver(callback);\r\n    observer.observe(this.parent, {attributes: true});\r\n  }\r\n  init() {\r\n    // shape is randomly selected from the array of different shapes (this.types)\r\n    let shape = this.types[randomIndex(this.types.length)];\r\n    // Shape element is created and assigned attributes\r\n    // corresponding to the props of the type of shape\r\n    // if a prop is undefined it is not added to the element\r\n    for (let prop in shape) {\r\n      if (shape[prop]) {\r\n        if (prop === 'el') {\r\n          this.el = document.createElementNS(\"http://www.w3.org/2000/svg\", shape[prop]);\r\n        } else {\r\n          if (this.el) {\r\n            this.el.setAttribute(prop, shape[prop]);\r\n          } else {\r\n            console.log(\"Element is undefined\");\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // console.log(\"this.x = \"+this.x +\", projectedX = \"+this.projectedXY.x+\", Camera perspective = \"+this.scene.camera.perspective+\", this.z = \"+(this.scene.camera.perspective - this.z*this.scene.camera.maxZ)+\", Camera Location X = \"+this.scene.camera.location.x);\r\n    console.log(\"Shape created\");\r\n  }\r\n  calc3DLocation(camera) {\r\n    /*\r\n        Bx = Ax*(Bz/Az)\r\n    */\r\n    let Bx,\r\n      Bz,\r\n      Ax,\r\n      Az,\r\n      By,\r\n      Ay,\r\n      newX,\r\n      newY;\r\n\r\n    Bz = camera.perspective;\r\n    Az = camera.perspective - (this.z * camera.maxZ);\r\n\r\n    Bx = this.x - camera.location.x;\r\n    Ax = Bx / (Bz / Az);\r\n    newX = camera.location.x + Ax;\r\n\r\n    By = this.y - camera.location.y;\r\n    Ay = By / (Bz / Az);\r\n    newY = camera.location.y + Ay;\r\n\r\n    return [newX, newY];\r\n  }\r\n\r\n  updateShape() {\r\n    if(this.scene.ready){\r\n      let letter = this.letter.el.getBoundingClientRect();\r\n      this.letter.props = letter;\r\n      this.x = letter.left + (letter.width * this.relationalValues.x);\r\n      this.y = letter.top + (letter.height * this.relationalValues.y);\r\n      this.scale = letter.width * this.relationalValues.scale;\r\n      this.transforms = [this.relationalValues.translateX*this.scene.bounds.right, this.relationalValues.translateY*this.scene.bounds.bottom];\r\n      this.projectedXY = this.calc3DLocation(this.scene.camera);\r\n      // If this Shape element has points, recalculate those values\r\n      // Otherwise, its a circle and the attributes can be outright updated with\r\n      // the Shape's new coordinates and scale values\r\n      if (this.el.hasAttribute(\"points\")) {\r\n        let points = this.getPoints(this.projectedXY[0], this.projectedXY[1], this.scale);\r\n        this.el.setAttribute(\"points\", points);\r\n      } else if (this.el.hasAttribute(\"cx\", \"cy\")) {\r\n        this.el.setAttribute(\"cx\", this.projectedXY[0]);\r\n        this.el.setAttribute(\"cy\", this.projectedXY[1]);\r\n        this.el.setAttribute(\"r\", this.scale / 2);\r\n      } else {\r\n        this.el.setAttribute(\"x\", this.projectedXY[0]);\r\n        this.el.setAttribute(\"y\", this.projectedXY[1]);\r\n      }\r\n      this.getsetTransform([0, 0]);\r\n    }else{\r\n      console.log(\"scene not ready\");\r\n    }\r\n  }\r\n  getPoints(x, y, scale) {\r\n    // This configuration of points creates a triangle shape\r\n    let points = `${x} ${y} ${x + scale * .5} ${y + scale} ${x - scale * .5} ${y + scale}`;\r\n    return points;\r\n  }\r\n  getsetTransform(projectedXY) {\r\n    if (!this.transforms) {\r\n\r\n      // if(this.el.hasAttribute(\"transform\")){\r\n      let matrix = this.el.getAttribute(\"transform\");\r\n      if(matrix){\r\n        // let matrixCopy = matrix.replace(/^\\w+\\(/,\"[\").replace(/\\)$/,\"]\");\r\n        let matrixCopy = matrix.replace(/^\\w*\\(/, '').replace(')', '');\r\n        let matrixValue = [];\r\n        matrixValue = matrixCopy.split(/[ ,]+/).map(Number);\r\n        this.transforms = matrixValue.slice(4);\r\n        this.relationalValues.translateX = this.transforms[0]/this.scene.bounds.right;\r\n        this.relationalValues.translateY = this.transforms[1]/this.scene.bounds.bottom;\r\n        // KEEP FOR REFERENCE & Potential future application\r\n        // (Converts computedStyle of element and turns into translateX translateY values)\r\n              // https://stackoverflow.com/questions/3432446/how-to-read-individual-transform-values-in-javascript\r\n              // let computedStyle = window.getComputedStyle(this.el, null); // \"null\" means this is not a pesudo style.\r\n              // You can retrieve the CSS3 matrix string by the following method.\r\n              // let matrix = computedStyle.getPropertyValue('transform')\r\n              // || computedStyle.getPropertyValue('-moz-transform')\r\n              // || computedStyle.getPropertyValue('-webkit-transform')\r\n              // || computedStyle.getPropertyValue('-ms-transform')\r\n              // || computedStyle.getPropertyValue('-o-transform');\r\n              // let matrixValue = [];\r\n              // let matrixCopy = matrix.replace(/^\\w*\\(/, '').replace(')', '');\r\n              // matrixValue = matrixCopy.split(/\\s*,\\s*/).map(Number);\r\n              // this.transforms = matrixValue.slice(4);\r\n              // this.relationalValues.translateX = this.transforms[0]/(window.innerWidth*.45);\r\n              // this.relationalValues.translateY = this.transforms[1]/(window.innerHeight*.45);\r\n        //\r\n      }\r\n      else{\r\n        console.log(\"! Error: Matrix Returned:\")\r\n        console.log(matrix);\r\n      }\r\n\r\n    }\r\n    if (projectedXY) {\r\n      let newProjectedXY = [];\r\n      this.transforms.forEach((transform, index) => newProjectedXY.push(transform + projectedXY[index]));\r\n      return newProjectedXY;\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexports.ShapeScene = function(scene, name) {\r\n  let shapeScene;\r\n  shapeScene = new Scene(scene, name);\r\n  // document.addEventListener('readystatechange', function(){\r\n  //   if (document.readyState == \"interactive\"){\r\n  //     console.log(\"interactive\");\r\n  //   }\r\n  //   else if (document.readyState == \"complete\"){\r\n  //     console.log(\"document ready complete\");\r\n  //   }\r\n  // });\r\n  //\r\n  // document.addEventListener('DOMContentLoaded', () => shapeScene = new Scene(scene, name));\r\n\r\n  return shapeScene;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shapes.js"],"sourceRoot":""}